/** 
 * 
 */
package utbm.ia54.ant2dgrid.objects

import java.util.ArrayList
import utbm.ia54.ant2dgrid.agents.Ant
import java.util.List
import utbm.ia54.ant2dgrid.Enum.CellState

/** 
 * 
 * @author Michel
 * 
 */
class Cell {
	
	private var vector : Vector2i
	private val AntList : ArrayList<Ant>
	private var state : CellState
	
	new(){
		this.vector = new Vector2i
		this.AntList = new ArrayList<Ant>
		this.state = CellState.NORMAL
	}
	
	new(x : int, y : int) {
		this.vector = new Vector2i(x, y)
		this.AntList = new ArrayList<Ant>
		this.state = CellState.NORMAL
	}

	new(x : int, y : int, state : CellState) {
		this.vector = new Vector2i(x, y)
		this.AntList = new ArrayList<Ant>
		this.state = state
	}
	
	new(v : Vector2i, antList : ArrayList<Ant>, state : CellState){
		this.vector = new Vector2i(v)
		this.AntList = antList
		this.state = state
	}
	
	new(x : int, y : int, antList : ArrayList<Ant>, state : CellState) {
		this.vector = new Vector2i(x, y)
		this.AntList = antList
		this.state = state
	}
	
	def getPosition : Vector2i {
		return vector
	}
	
	def setPosition(v : Vector2i){
		this.vector = v
	}
	
	def setPosition(x : int, y : int){
		this.vector.setX(x)
		this.vector.setY(y)
	}
	
	def addAnt(ant : Ant){
		synchronized(AntList){
			this.AntList.add(ant)
		}
	}
	
	def removeAnt(ant : Ant){
		synchronized(AntList){
			this.AntList.remove(ant)
		}
	}
	
	def getAntList : List<Ant>{
		synchronized(AntList){
			this.AntList.unmodifiableView
		}
	}
	
	def getNumberAnt : int{
		synchronized(AntList){
			this.AntList.size
		}
	}
	
	def getState : CellState{
		this.state
	}
	
	def setState(state : CellState){
		this.state = state
	}
	
}
